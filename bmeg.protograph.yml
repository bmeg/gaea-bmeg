- label: Biosample
  gid: "biosample:{{datasetId}}:{{name}}"
  actions:
    - field: info
      splice_map:
        prefix: info

- label: Variant
  gid: "variant:{{referenceName}}:{{start}}:{{end}}:{{referenceBases}}:{{#join}}{{alternateBases}}{{/join}}"
  actions: 
    - field: info
      splice_map:
        prefix: info
    - field: calls
      repeated_edges:
        edge_label: inCallSet
        destination_label: CallSet
    - field: alternateBases
      join_list:
        delimiter: ","

- label: CallSet
  gid: "callSet:{{name}}"
  actions:
    - field: biosampleId
      single_edge:
        edge_label: callsFor
        destination_label: Biosample

- label: VariantAnnotation
  gid: "variantAnnotation:{{variantId}}:{{annotationSetId}}"
  actions:
    - field: transcriptEffects
      inner_vertex:
        edge_label: transcriptEffectOf
        destination_label: TranscriptEffect
        outer_id: annotationId

- label: TranscriptEffect
  gid: "transcriptEffect:{{featureId}}:{{annotationId}}:{{alternateBases}}"
  actions:
    - field: featureId
      single_edge:
        edge_label: affectsGene
        destination_label: Gene
    - field: effects
      inner_vertex:
        edge_label: termFor
        destination_label: OntologyTerm
        outer_id: effectId

- label: OntologyTerm
  gid: "ontologyTerm:{{term}}"

- label: ResponseCurve
  gid: "responseCurve:{{sample}}:{{compound}}"
  actions:
    - field: summary
      serialize_field:
        serialized_name: responseSummary
    - field: values
      serialize_field:
        serialized_name: responseValues
    - field: compound
      single_edge:
        edge_label: responseTo
        destination_label: Compound
    - field: sample
      single_edge:
        edge_label: responseOf
        destination_label: Biosample

- label: Compound
  gid: "compound:{{name}}"
  actions:
    - field: synonyms
      repeated_edges:
        edge_label: compoundSynonym
        destination_label: Compound

- label: GeneExpression
  gid: "geneExpression:{{gid}}"
  actions:
    - field: expressions
      serialize_field:
        serialized_name: serializedExpressions
